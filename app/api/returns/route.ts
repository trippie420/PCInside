import { NextRequest, NextResponse } from 'next/server'; import { prisma } from '@/lib/db'; export async function POST(req:NextRequest){ const {number,reason}=await req.json(); if(!number||!reason) return NextResponse.json({error:'bad_request'},{status:400}); const order=await prisma.order.findUnique({where:{number}}); if(!order) return NextResponse.json({error:'not_found'},{status:404}); await prisma.returnRequest.create({data:{orderId:order.id,reason}}); return NextResponse.json({ok:true}) }